/*
name: button
desc: 用于触发操作的主按钮组件，支持多种尺寸与颜色变体
usage: 在表单提交、弹窗确认、交互操作等场景使用
syntax:
<button class="btn btn-primary btn-md">确认</button>
*/

@import "../../utilities/style.css";

@utility btn {
  /* 布局 */
  @apply inline-flex items-center justify-center gap-2;
  @apply max-w-max;

  /* 文本 */
  @apply text-sm font-medium;
  @apply whitespace-nowrap;

  /* 交互 */
  @apply select-none cursor-pointer;
  @apply transition-colors duration-200;

  /* 边框 */
  @apply border rounded-md;

  /* 焦点状态 */
  @apply focus-visible:outline-none;
  @apply focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;

  /* 禁用状态 */
  @apply disabled:pointer-events-none;
  @apply disabled:opacity-50;

  /* 默认尺寸 */
  @apply input-h-md input-p-md py-2;

  /* 默认配色(ghost风格) */
  @apply bg-transparent border-transparent text-foreground;
  /* @apply hover:bg-accent; */
}

/* ========================================
   实心按钮 - btn-primary
   ======================================== */

@utility btn-primary {
  &:not(:is(.btn-outline)):not(:is(.btn-ghost)) {
    @apply bg-primary text-primary-foreground border-transparent;
    @apply hover:bg-primary/90 hover:text-primary-foreground;
  }

  @apply hover:bg-primary/90 hover:text-primary-foreground;
}
/* ========================================
   实心按钮 - btn-secondary
   ======================================== */
@utility btn-secondary {
  &:not(:is(.btn-outline)):not(:is(.btn-ghost)) {
    @apply bg-secondary text-secondary-foreground border-transparent;
    @apply hover:bg-secondary/90 hover:text-secondary-foreground;
  }
  @apply hover:bg-secondary/90 hover:text-secondary-foreground;
}

/* ========================================
   实心按钮 - btn-destructive
   ======================================== */
@utility btn-destructive {
  &:not(:is(.btn-outline)):not(:is(.btn-ghost)) {
    @apply bg-destructive text-destructive-foreground border-transparent;
    @apply hover:bg-destructive/90 hover:text-destructive-foreground;
  }
  @apply hover:bg-destructive/90 hover:text-destructive-foreground;
}

/* ========================================
   实心按钮 - btn-muted
   ======================================== */
@utility btn-muted {
  &:not(:is(.btn-outline)):not(:is(.btn-ghost)) {
    @apply bg-muted text-muted-foreground border-transparent;
    @apply hover:bg-muted/90 hover:text-muted-foreground;
  }
  @apply hover:bg-muted/90 hover:text-muted-foreground;
}

/* ========================================
   按钮 - btn-accent
   ======================================== */

@utility btn-accent {
  &:not(:is(.btn-outline)):not(:is(.btn-ghost)) {
    @apply bg-accent text-accent-foreground border-transparent;
    @apply hover:bg-accent/90 hover:text-accent-foreground;
  }
  @apply hover:bg-accent/90 hover:text-accent-foreground;
}

/* ========================================
   描边按钮
   ======================================== */

@utility btn-outline {
  @apply bg-transparent border border-input text-foreground;
  @apply hover:bg-accent hover:text-accent-foreground;
}

/* ========================================
   幽灵按钮
   ======================================== */

@utility btn-ghost {
  @apply bg-transparent border-transparent text-foreground border-none;
  @apply hover:bg-accent hover:text-accent-foreground;
}

/* ========================================
   尺寸变体
   ======================================== */

@utility btn-xs {
  @apply input-h-xs input-p-xs text-xs;
}

@utility btn-sm {
  @apply input-h-sm input-p-sm text-sm;
}

@utility btn-md {
  @apply input-h-md input-p-md text-sm;
}

@utility btn-lg {
  @apply input-h-lg input-p-lg text-base;
}

@utility btn-xl {
  @apply input-h-xl input-p-xl text-base;
}

/* ========================================
   特殊变体
   ======================================== */

@utility btn-link {
  @apply bg-transparent text-primary border-transparent;
  @apply underline-offset-4 px-1 h-auto;
  @apply hover:underline;
}

/* ========================================
   图标按钮
   ======================================== */

@utility btn-icon {
  @apply p-0 aspect-square;
}

@utility btn-icon-xs {
  @apply btn-icon input-h-xs;
}

@utility btn-icon-sm {
  @apply btn-icon input-h-sm;
}

@utility btn-icon-md {
  @apply btn-icon input-h-md;
}

@utility btn-icon-lg {
  @apply btn-icon input-h-lg;
}

@utility btn-icon-xl {
  @apply btn-icon input-h-xl;
}

/* ========================================
   形状变体 具体大小使用 size-x 进行设置
   ======================================== */

@utility btn-pill {
  @apply rounded-full aspect-square;
}

@utility btn-square {
  @apply rounded-none aspect-square;
}

/* ========================================
   宽度变体
   ======================================== */

@utility btn-full {
  @apply w-full max-w-none;
}

@utility btn-wide {
  @apply w-full max-w-64;
}

/* ========================================
   增强效果
   ======================================== */

@utility btn-shadow {
  @apply shadow-sm hover:shadow-md;
}

@utility btn-lift {
  @apply transition-all duration-200;
  @apply hover:scale-105 hover:-translate-y-0.5;
}

/* ========================================
   加载状态
   ======================================== */

@utility btn-loading {
  @apply relative text-transparent pointer-events-none;

  &::after {
    content: "";
    @apply absolute inset-0 m-auto;
    @apply size-4 rounded-full;
    @apply border-2 border-current border-t-transparent;
    @apply animate-spin;
  }
}

@utility btn-group {
  @apply flex;

  & .btn:first-child {
    @apply rounded-l-md;
  }
  & .btn:last-child {
    @apply rounded-r-md;
  }

  & .btn {
    @apply rounded-none ring ring-muted;
  }
}
