/* Alert 警告组件 */

/* === Alert 基础容器 === */
@utility alert {
  @apply rounded-md p-4 backdrop-blur-sm;
  @apply bg-card border border-border text-card-foreground;
  @apply flex items-start gap-3 relative;
}

@utility alert-title {
  @apply font-semibold text-sm;
  @apply text-card-foreground;
}

@utility alert-description {
  @apply text-sm mt-1;
  @apply text-muted-foreground;
}

/* 关闭按钮 */
@utility alert-close {
  @apply rounded-sm p-1 transition-colors duration-200 size-6 cursor-pointer;
  @apply flex items-center justify-center ml-auto;
  @apply text-muted-foreground;

  &::before {
    content: "";
    @apply block size-4;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 18L18 6M6 6l12 12'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
  }
}

@utility alert-info {
  @apply alert border-l-4;
  border-left-color: theme(colors.info.DEFAULT);

  &::before {
    content: "";
    @apply block size-5 flex-shrink-0;
    @apply text-info;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%236366f1'%3E%3Cpath fill-rule='evenodd' d='M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 01.67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 11-.671-1.34l.041-.022zM12 9a.75.75 0 100-1.5.75.75 0 000 1.5z' clip-rule='evenodd'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
  }

  & .alert-close {
    @apply hover:bg-info/10;
  }
}

/* === Success Alert === */
@utility alert-success {
  @apply alert border-l-4;
  @apply border-l-success;

  &::before {
    content: "";
    @apply block size-5 flex-shrink-0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2310b981'%3E%3Cpath fill-rule='evenodd' d='M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z' clip-rule='evenodd'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
  }

  & .alert-close {
    @apply hover:bg-success/10;
  }
}

@utility alert-warning {
  @apply alert border-l-4;
  @apply border-l-warning;

  &::before {
    content: "";
    @apply block size-5 flex-shrink-0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23f59e0b'%3E%3Cpath fill-rule='evenodd' d='M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z' clip-rule='evenodd'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
  }

  & .alert-close {
    @apply hover:bg-warning/10;
  }
}

@utility alert-error {
  @apply alert border-l-4;
  @apply border-l-danger;

  &::before {
    content: "";
    @apply block size-5 flex-shrink-0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ef4444'%3E%3Cpath fill-rule='evenodd' d='M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z' clip-rule='evenodd'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
  }

  & .alert-close {
    @apply hover:bg-danger/10;
  }
}

/* === Alert 填充样式 === */
@utility alert-filled {
  @apply border-none;
}

/* Info Filled */
@utility alert-info-filled {
  @apply alert-info alert-filled;
  @apply bg-info/10;

  & .alert-title,
  & .alert-description {
    @apply text-info;
  }

  & .alert-close {
    @apply text-info hover:bg-info/20;
  }
}

/* Success Filled */
@utility alert-success-filled {
  @apply alert-success alert-filled;
  @apply bg-success/10;

  & .alert-title {
    @apply text-success;
  }

  & .alert-description {
    @apply text-success;
  }

  & .alert-close {
    @apply text-success hover:bg-success/20;
  }
}

/* Warning Filled */
@utility alert-warning-filled {
  @apply alert-warning alert-filled;
  @apply bg-warning/10;

  & .alert-title {
    @apply text-warning;
  }

  & .alert-description {
    @apply text-warning;
  }

  & .alert-close {
    @apply text-warning hover:bg-warning/20;
  }
}

/* Error Filled */
@utility alert-error-filled {
  @apply alert-error alert-filled;
  @apply bg-danger/10;

  & .alert-title {
    @apply text-danger;
  }

  & .alert-description {
    @apply text-danger/80;
  }

  & .alert-close {
    @apply text-danger hover:bg-danger/20;
  }
}

/* === Alert 尺寸 === */
@utility alert-sm {
  @apply p-3 gap-2;

  &::before {
    @apply size-4;
  }

  & .alert-title {
    @apply text-xs;
  }

  & .alert-description {
    @apply text-xs;
  }

  & .alert-close {
    @apply size-5;

    &::before {
      @apply size-3;
    }
  }
}

@utility alert-lg {
  @apply p-5 gap-4;

  &::before {
    @apply size-6;
  }

  & .alert-title {
    @apply text-base;
  }

  & .alert-description {
    @apply text-sm;
  }

  & .alert-close {
    @apply size-7;

    &::before {
      @apply size-5;
    }
  }
}

/* === Alert 无图标样式 === */
@utility alert-no-icon {
  &::before {
    @apply hidden;
  }
}

/* === Alert 无边框样式 === */
@utility alert-borderless {
  @apply border-0;
}

/* === Alert 动画 === */
@utility alert-enter {
  @apply -translate-y-2 opacity-0;
}

@utility alert-enter-active {
  @apply transition-all duration-300 ease-out;
}

@utility alert-enter-to {
  @apply translate-y-0 opacity-100;
}

@utility alert-leave {
  @apply translate-y-0 opacity-100;
}

@utility alert-leave-active {
  @apply transition-all duration-200 ease-in;
}

@utility alert-leave-to {
  @apply -translate-y-2 opacity-0;
}

/* 淡入淡出动画 */
@utility alert-fade-enter {
  @apply opacity-0;
}

@utility alert-fade-enter-active {
  @apply transition-opacity duration-300 ease-out;
}

@utility alert-fade-enter-to {
  @apply opacity-100;
}

@utility alert-fade-leave {
  @apply opacity-100;
}

@utility alert-fade-leave-active {
  @apply transition-opacity duration-200 ease-in;
}

@utility alert-fade-leave-to {
  @apply opacity-0;
}
