/*
name: badge
desc: 徽章组件，用于显示状态、小计或通知数量。
usage: 常见于按钮、图标、标签旁显示数量或状态。
syntax:
<div class="badge badge-primary">新</div>
<span class="badge badge-secondary badge-outline">Beta</span>
*/

@utility badge {
  /* 布局 */
  @apply inline-flex items-center justify-center gap-1;
  @apply max-w-max;

  /* 文本 */
  @apply text-xs font-semibold;
  @apply whitespace-nowrap;

  /* 交互 */
  @apply select-none;
  @apply transition-colors duration-200;

  /* 边框 */
  @apply border;
  @apply rounded-md;

  /* 默认尺寸 */
  @apply px-2.5 h-6 text-xs;

  /* 默认配色(ghost风格) */
  @apply bg-transparent border-transparent text-foreground;
  @apply hover:bg-accent;
}

/* ========================================
   配色变体 - 实心徽章
   ======================================== */

@utility badge-primary {
  @apply hover:bg-primary/80 hover:text-primary-foreground;

  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-primary text-primary-foreground border-transparent;
    @apply hover:bg-primary/80 hover:text-primary-foreground;
  }
}

@utility badge-secondary {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-secondary text-secondary-foreground border-transparent;
    @apply hover:bg-secondary/80 hover:text-secondary-foreground;
  }
  @apply hover:bg-secondary/80 hover:text-secondary-foreground;
}

@utility badge-destructive {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-destructive text-destructive-foreground border-transparent;
    @apply hover:bg-destructive/80 hover:text-destructive-foreground;
  }
  @apply hover:bg-destructive/80 hover:text-destructive-foreground;
}

@utility badge-muted {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-muted text-muted-foreground border-transparent;
    @apply hover:bg-muted/80 hover:text-muted-foreground;
  }
  @apply hover:bg-muted/80 hover:text-muted-foreground;
}

@utility badge-accent {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-accent text-accent-foreground border-transparent;
    @apply hover:bg-accent/80 hover:text-accent-foreground;
  }
  @apply hover:bg-accent/80 hover:text-accent-foreground;
}

@utility badge-info {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-info text-info-foreground border-transparent;
    @apply hover:bg-info/80 hover:text-info-foreground;
  }
  @apply hover:bg-info/80 hover:text-info-foreground;
}

@utility badge-success {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-success text-success-foreground border-transparent;
    @apply hover:bg-success/80 hover:text-success-foreground;
  }
  @apply hover:bg-success/80 hover:text-success-foreground;
}

@utility badge-error {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-error text-error-foreground border-transparent;
    @apply hover:bg-error/80 hover:text-error-foreground;
  }
  @apply hover:bg-error/80 hover:text-error-foreground;
}

@utility badge-warning {
  &:not(:is(.badge-outline)):not(:is(.badge-ghost)) {
    @apply bg-warning text-warning-foreground border-transparent;
    @apply hover:bg-warning/80 hover:text-warning-foreground;
  }
  @apply hover:bg-warning/80 hover:text-warning-foreground;
}

/* ========================================
   描边徽章
   ======================================== */

@utility badge-outline {
  @apply bg-transparent border border-input text-foreground;
  @apply hover:bg-accent hover:text-accent-foreground;
}

/* ========================================
   幽灵徽章
   ======================================== */

@utility badge-ghost {
  @apply bg-transparent border-transparent text-foreground border-none;
  @apply hover:bg-accent hover:text-accent-foreground;
}

/* ========================================
   尺寸变体
   ======================================== */

@utility badge-xs {
  @apply px-1.5 h-4 text-xs;
}

@utility badge-sm {
  @apply px-2 h-5 text-xs;
}

@utility badge-md {
  @apply px-2.5 h-6 text-xs;
}

@utility badge-lg {
  @apply px-3 h-7 text-sm;
}
@utility badge-xl {
  @apply px-3 h-8 text-sm;
}

/* ========================================
   形状变体
   ======================================== */

@utility badge-pill {
  @apply rounded-full;
}

@utility badge-square {
  @apply rounded-none;
}

/* === 扩展 === */
/* 带点徽章 */
@utility badge-dot {
  &::before {
    content: "";
    @apply inline-block size-1.5 rounded-full mr-1 bg-current;
  }
}

/* 可关闭徽章（需要配合 JavaScript） */
@utility badge-closable {
  @apply pr-1;
}
